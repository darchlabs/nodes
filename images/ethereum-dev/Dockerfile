FROM node

WORKDIR /home/node

# Environment var
## ENVIRONMENT
ARG ENVIRONMENT
ENV ENVIRONMENT ${ENVIRONMENT}
### ENVIRONMENT
ARG HOST
ENV HOST ${HOST}
## NETWORK_URL
ARG NETWORK_URL
ENV NETWORK_URL ${NETWORK_URL}
## BASE_CHAIN_DATA_PATH
ARG BASE_CHAIN_DATA_PATH
ENV BASE_CHAIN_DATA_PATH ${BASE_CHAIN_DATA_PATH}
## RPC_PORT
ARG RPC_PORT
ENV RPC_PORT ${RPC_PORT}

RUN npm install -g ganache

CMD ganache --host $HOST -p $RPC_PORT --db $BASE_CHAIN_DATA_PATH --fork $NETWORK_URL
